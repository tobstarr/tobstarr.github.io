<!DOCTYPE html>
<html>
<head>
    <title>tobstarr.com</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" href="/css/default.css" type="text/css" media="screen" title="no title" charset="utf-8">
</head>
<body>
  <div class="container">
    <div class="header index_link">
      <a href="/index.html">tobstarr.com</a>
    </div>
    <div class="header_links">
      <a href="/dotfiles.html">Dotfiles</a>
      |
      <a href="/cheats.html">Cheats</a>
    </div>
    <hr />
<h1><a name="gnupg" class="anchor" href="#gnupg" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>GnuPG</h1>
<h2><a name="export-public-key" class="anchor" href="#export-public-key" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
Export Public Key</h2>

<pre><code>gpg --output tobstarr.gpg --armor --export tobstarr@gmail.com
</code></pre>
<h2><a name="import-public-key-e-g-from-keybase" class="anchor" href="#import-public-key-e-g-from-keybase" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
Import Public Key (e.g. from keybase)</h2>

<pre><code>echo &#34;some key&#34; | gpg --import // e.g. from keybase
</code></pre>
<h2><a name="public-key-from-keybase" class="anchor" href="#public-key-from-keybase" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
Public Key from keybase</h2>

<pre><code>curl -Ls https://keybase.io/tobstarr/key.asc | gpg --import
</code></pre>
<h2><a name="list-keys" class="anchor" href="#list-keys" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
List Keys</h2>

<pre><code>gpg -k
</code></pre>
<h2><a name="encrypt-a-stream-without-confirmation" class="anchor" href="#encrypt-a-stream-without-confirmation" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
Encrypt a stream without confirmation</h2>

<pre><code>cat some.file | gpg -e -a --trust-model always --recipient tobstarr@gmail.com
</code></pre>
<h2><a name="be-more-quiet" class="anchor" href="#be-more-quiet" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
Be more quiet</h2>

<pre><code>gpg --no-tty
</code></pre>
<h2><a name="generate-a-new-key" class="anchor" href="#generate-a-new-key" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
Generate a new key</h2>

<pre><code>gpg --gen-key
</code></pre>
<h2><a name="list-recipients-of-a-encrypted-message" class="anchor" href="#list-recipients-of-a-encrypted-message" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
List recipients of a encrypted message</h2>

<pre><code>gpg --list-packets &lt; file.gpg
</code></pre>
<h2><a name="display-fingerprint" class="anchor" href="#display-fingerprint" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
Display Fingerprint</h2>

<pre><code>gpg --fingerprint &lt;key_name&gt; | grep &#34;Key fingerprint&#34; | tr -s &#34; &#34; | cut -d &#39; &#39; -f 5-
</code></pre>
<h2><a name="encrypt-with-hidden-recipients" class="anchor" href="#encrypt-with-hidden-recipients" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
Encrypt with hidden recipients</h2>

<pre><code>gpg -R 
</code></pre>
<h2><a name="encrypt-to-self-by-default" class="anchor" href="#encrypt-to-self-by-default" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
Encrypt to self by default</h2>

<p>Add <code>default-recipient-self</code> to <code>$HOME/.gnupg/gpg.conf</code></p>
<h2><a name="git-diff" class="anchor" href="#git-diff" rel="nofollow" aria-hidden="true"><span class="octicon octicon-link"></span></a>
git diff</h2>

<p>see <a href="http://magit.vc/manual/magit/How-to-show-diffs-for-gpg_002dencrypted-files_003f.html" rel="nofollow">http://magit.vc/manual/magit/How-to-show-diffs-for-gpg_002dencrypted-files_003f.html</a></p>

<pre><code>git config --global diff.gpg.textconv &#34;gpg --no-tty --decrypt&#34;
# it seems we cannot glob for two extensions in one line :(
cat &gt; .gitattributes &lt;&lt;EOF
    *.gpg filter=gpg diff=gpg
    *.asc filter=gpg diff=gpg
EOF
</code></pre>
</div>
</body>
</html>
